
/* Ensure the ElevenLabs ConvAI widget stays within its container */
elevenlabs-convai {
  width: auto !important; /* Changed from 100% to auto to only take up needed space */
  max-width: 500px !important; /* Reduced max-width further */
  position: relative !important;
  display: inline-block !important; /* Changed from block to inline-block */
  height: auto !important;
  min-height: 0 !important;
  margin: 0 auto !important;
  left: 0 !important; 
  transform: none !important;
  box-sizing: border-box !important;
  overflow: hidden !important;
  outline: none !important; /* Prevent focus outline */
  scroll-margin: 0 !important; /* Prevent scroll on focus */
  -webkit-user-select: none !important; /* Prevent text selection */
  user-select: none !important;
  pointer-events: auto !important; /* Allow interaction but prevent default behaviors */
  touch-action: none !important; /* Prevent touch actions that could cause scrolling */
}

/* Override any fixed positioning from the widget */
elevenlabs-convai > div,
elevenlabs-convai > div > div {
  position: relative !important;
  width: auto !important; /* Changed from 100% to auto */
  max-width: 100% !important;
  left: 0 !important;
  right: 0 !important;
  bottom: auto !important;
  transform: none !important;
  box-sizing: border-box !important;
}

/* Prevent automatic focus that scrolls the page */
elevenlabs-convai:focus {
  outline: none !important;
}

elevenlabs-convai div:focus {
  outline: none !important;
}

elevenlabs-convai * {
  scroll-margin-top: 0 !important;
  box-sizing: border-box !important;
  outline: none !important;
}

/* Set tabindex to -1 on all focusable elements within the widget */
elevenlabs-convai button,
elevenlabs-convai [href],
elevenlabs-convai input,
elevenlabs-convai select,
elevenlabs-convai textarea,
elevenlabs-convai [tabindex]:not([tabindex="-1"]) {
  tabindex: -1 !important;
  outline: none !important;
}

/* Center the widget and its contents */
#elevenlabs-widget-direct-mount {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  width: 100% !important;
  padding: 0 !important;
  margin: 0 !important;
  position: relative !important;
  overflow: hidden !important;
  box-sizing: border-box !important;
  outline: none !important;
}

/* Target the inner elements of the widget to center them */
elevenlabs-convai > div {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  margin: 0 auto !important;
  padding: 0 !important;
  max-width: 100% !important;
  transform: none !important;
  box-sizing: border-box !important;
}

/* Force center alignment of widget controls */
elevenlabs-convai .voice-control-container,
elevenlabs-convai .message-container,
elevenlabs-convai .input-container {
  max-width: 100% !important;
  margin-left: auto !important;
  margin-right: auto !important;
  left: 0 !important;
  right: 0 !important;
  transform: none !important;
  box-sizing: border-box !important;
}

/* Target main widget container */
elevenlabs-convai .main-container {
  margin: 0 auto !important;
  left: 0 !important;
  right: 0 !important;
  transform: none !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  width: auto !important; /* Changed from 100% to auto */
  max-width: 500px !important; /* Reduced max-width */
  box-sizing: border-box !important;
  overflow: hidden !important;
}

/* Target inner wrapper */
elevenlabs-convai .inner-wrapper {
  margin: 0 auto !important;
  left: 0 !important;
  right: 0 !important;
  transform: none !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  box-sizing: border-box !important;
  max-width: 100% !important;
}

/* Target specifically the widget buttons and controls */
elevenlabs-convai button,
elevenlabs-convai .control-bar,
elevenlabs-convai .avatar-wrapper {
  margin: 0 auto !important;
  left: 0 !important;
  right: 0 !important;
  position: relative !important;
  max-width: 100% !important;
  outline: none !important;
  tabindex: -1 !important;
}

/* Ensure speech bubble and dialog elements are centered and don't overflow */
elevenlabs-convai .speech-bubble,
elevenlabs-convai .dialog,
elevenlabs-convai .dialog-wrapper {
  margin: 0 auto !important;
  left: 0 !important;
  right: 0 !important;
  position: relative !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
  overflow: hidden !important;
}

/* Specific fix for the right-side overflow */
elevenlabs-convai .main-widget-container {
  width: auto !important; /* Changed from 100% to auto */
  max-width: 500px !important; /* Reduced max-width */
  position: relative !important;
  left: 0 !important;
  right: 0 !important;
  margin: 0 auto !important;
  overflow: hidden !important;
  box-sizing: border-box !important;
  padding: 0 !important;
}

/* Fix for any absolute positioned elements */
elevenlabs-convai [style*="position: absolute"] {
  max-width: 100% !important;
  right: auto !important;
  box-sizing: border-box !important;
}

/* Additional fix for iframe elements */
elevenlabs-convai iframe {
  max-width: 100% !important;
  width: 100% !important;
  box-sizing: border-box !important;
}

/* Prevent scrolling on focus */
html {
  scroll-behavior: auto !important;
}

.voice-tab-container {
  scroll-behavior: auto !important;
  scroll-padding-top: 0 !important;
}

/* Extra strong focus prevention */
.no-focus-scroll * {
  scroll-margin-top: 0 !important;
  scroll-margin-bottom: 0 !important;
  scroll-padding-top: 0 !important;
  scroll-padding-bottom: 0 !important;
}

/* Override focus and scroll behavior for the entire page when widget is active */
body:has(elevenlabs-convai) {
  overflow-anchor: none !important;
  overflow-y: auto !important;
  scroll-behavior: auto !important;
  touch-action: pan-x pan-y !important;
}

/* Add specific styles to prevent iOS focus behavior */
@supports (-webkit-touch-callout: none) {
  elevenlabs-convai, 
  elevenlabs-convai * {
    -webkit-tap-highlight-color: transparent !important;
    -webkit-touch-callout: none !important;
  }
}

/* Disable focus rings on all elements */
* {
  outline: none !important;
}

/* Override any scroll-into-view behaviors */
[tabindex="-1"]:focus {
  outline: none !important;
}
